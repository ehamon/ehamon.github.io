<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"><channel><title>A bit closer to heaven</title><link>https://ehamon.github.io/</link><description></description><lastBuildDate>Sun, 28 Aug 2016 12:40:00 +0200</lastBuildDate><item><title>La météo en ligne de commande...</title><link>https://ehamon.github.io/posts/20160828/la-meteo-en-ligne-de-commande/</link><description>&lt;p&gt;&lt;img alt="COC-level7" src="/photos/201608-meteo/20160828-meteo-with-curl-01a.jpg" /&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;curl wttr.in/Gretz-Armainvilliers
&lt;/pre&gt;&lt;/div&gt;


&lt;hr /&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Eric HAMON</dc:creator><pubDate>Sun, 28 Aug 2016 12:40:00 +0200</pubDate><guid isPermaLink="false">tag:ehamon.github.io,2016-08-28:posts/20160828/la-meteo-en-ligne-de-commande/</guid><category>software</category></item><item><title>Clash of Clans played by a novice bot</title><link>https://ehamon.github.io/posts/20150605/clash-of-clans-by-a-novice-bot/</link><description>&lt;p&gt;&lt;img alt="COC-level7" src="/photos/clashofclans/screenshot_2015-05-30-17-21-08a.jpg" /&gt;&lt;/p&gt;
&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#introduction"&gt;Introduction&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#lapprentissage-du-debutant"&gt;L'apprentissage du débutant&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#piller-a-donf-et-ne-jamais-se-faire-plumer"&gt;Piller à donf et ne jamais se faire plumer&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#avant-2015-lere-des-bots-sous-coc"&gt;Avant 2015,  l'ère des BOTS sous COC&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#une-solution-simplissime"&gt;Une solution simplissime&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#une-solution-un-peu-plus-complexe-quoique"&gt;Une solution un peu plus complexe. Quoique&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#actiona3-ou-les-tests-dinterface-gui-au-secours-de-coc"&gt;Actiona3 ou les tests d'interface GUI au secours de COC&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#autres-axes-de-recherche-pour-coc"&gt;Autres axes de recherche pour COC&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#conclusion"&gt;Conclusion&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id="introduction"&gt;Introduction&lt;/h2&gt;
&lt;p&gt;En France, il est difficile d'échapper aux multiples diffusions de spots publicitaires sur le jeu en ligne &lt;em&gt;Clash of clans&lt;/em&gt; de la société &lt;a href="http://supercell.com/en/"&gt;Supercell&lt;/a&gt;.
(&lt;a href="https://www.youtube.com/watch?v=YSdJtNen-EA"&gt;spot officiel&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;A noël dernier, je me suis lancé dans l'aventure pour découvrir ce jeu en ligne. Mal m'en a pris, six mois plus tard, j'y joue encore. Ce jeu est vraiment addictif.
Je ne vais pas donner de conseils de jeu dans ce billet. Internet fourmille de tutoriaux, de forums, d'astuces divers et variées qui permettent d'améliorer son style de jeu. Je vais par contre vous narrer une période révolue de mon expérience de jeu qui a duré quelques semaines sur COC.&lt;/p&gt;
&lt;h2 id="lapprentissage-du-debutant"&gt;L'apprentissage du débutant&lt;/h2&gt;
&lt;p&gt;La prise en main du jeu est très facile. Dans COC, les règles sont encore plus simples que l'excellent jeu &lt;em&gt;Warcraft2 'Tides of Darkness'&lt;/em&gt; sorti en 1995. (&lt;a href="https://www.youtube.com/watch?v=ZPceWwNia6I"&gt;cinématique&lt;/a&gt;). Point d'I.A (intelligence artificielle) ici, on joue principalement contre d'autres joueurs &lt;em&gt;humains&lt;/em&gt;.  On peut également jouer un peu en mode &lt;em&gt;solo&lt;/em&gt; sur quelques cartes pour se faire de l'oseille sur le dos des Gobelins. Mais c'est anecdotique (et pas facile).&lt;/p&gt;
&lt;p&gt;Tantôt, on lance un &lt;em&gt;rush&lt;/em&gt; de trois minutes pour collecter  un maximum de ressources de son adversaire. De l'autre, notre &lt;em&gt;village fortifié&lt;/em&gt; est régulièrement &lt;em&gt;visité&lt;/em&gt; et souvent &lt;em&gt;pillé&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Une stratégie de développement doit donc être soigneusement élaborée pour optimiser ses ressources et augmenter très rapidement le niveau de son HDV (&lt;em&gt;hotel de ville&lt;/em&gt;) pour espérer obtenir de meilleurs et/ou de nouveaux batiments et de meilleurs niveaux pour les troupes d'attaque. On doit également sauvegarder au mieux les ressources collectées précédemment: butin des pillages et &lt;em&gt;home-farming&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Bref, un &lt;em&gt;gameplay&lt;/em&gt; des plus classiques où le joueur est souvent ralenti dans ses objectifs car il est régulièrement contrarié par les actions &lt;em&gt;belliqueuses&lt;/em&gt; d'adversaires plus ou moins ingénieux pour vous ralentir au maximum. &lt;em&gt;les ressources sont les nerfs de la guerre et du développement de votre village&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Mon objectif était de rattraper le niveau de jeu (&lt;em&gt;level&lt;/em&gt;) de mes enfants. qui avaient succombés bien avant moi à ce jeu. J'avais plusieurs mois de retard à l'allumage. Un petit challenge à relever, en somme.&lt;/p&gt;
&lt;h2 id="piller-a-donf-et-ne-jamais-se-faire-plumer"&gt;Piller à donf et ne jamais se faire plumer&lt;/h2&gt;
&lt;p&gt;Au début du jeu on ne dispose que de deux &lt;em&gt;ouvriers&lt;/em&gt;. La construction et l'amélioration des &lt;em&gt;batiments&lt;/em&gt; deviennent de plus en plus longues et les &lt;em&gt;coûts&lt;/em&gt; s'envolent de manière exponentielle. Il n'est pas rare de cumuler beaucoup de ressources et d'attendre très longtemps la disponibilité d'un ouvrier pour une construction. Malheureusement, lors de cette période d'attente, on est &lt;em&gt;victime&lt;/em&gt; d'attaques qui peuvent &lt;em&gt;vider&lt;/em&gt; vos caisses à trésor (or et elixirs). SUPERCELL a prévu le coup pour vous épargner ces temps forcément angoissants pour la prospérité de votre village. Le joueur peut dégainer l'ultime arme absolue:... sa carte bancaire pour acheter des GEMS (1 cent d'euro par GEM!)et accélerer/finir ses actions de construction dans le jeu.
Il peut aussi engager un &lt;em&gt;serviteur&lt;/em&gt; servile et dévoué à votre cause: un robot.&lt;/p&gt;
&lt;p&gt;Argh! On va me traiter de mauvais joueur ou tricheur. 
Que nenni. J'ai un challenge à emporter. C'est tout.&lt;/p&gt;
&lt;h2 id="avant-2015-lere-des-bots-sous-coc"&gt;Avant 2015,  l'ère des BOTS sous COC&lt;/h2&gt;
&lt;p&gt;Définition: &lt;a href="http://fr.wikipedia.org/wiki/Bot_informatique"&gt;BOT&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;L'année dernière, il suffisait de jouer en permanence au jeu COC pour éviter d'être attaqué. Jouer 24h/24 était donc LA &lt;em&gt;solution&lt;/em&gt; pour éviter les pillages. Une personne normalement constituée peut très difficilement jouer sur une aussi longue période. Par contre, la tache est tout à fait envisageable pour un robot. C'est sa fonction ultime même. Un vrai &lt;em&gt;terminator&lt;/em&gt; en somme. &lt;a href="http://fr.wiktionary.org/wiki/googler"&gt;Googlez&lt;/a&gt; et vous serez surpris des tentatives de batir des BOTS pour COC. &lt;/p&gt;
&lt;p&gt;Le principe est simple. Le robot doit générer des &lt;em&gt;clics&lt;/em&gt; sur des objets graphiques (des batiments) dans l'interface du jeu, à intervalle régulier, et ce, sur une très longue période. Suffisamment longtemps pour que le joueur n'intervienne uniquement que quand un ouvrier devient disponible. Le joueur ordonne à l'ouvrier une tache à accomplir sur un batiment, puis s'éclipse à d'autres activités plus domestiques (la vaisselle?). Bref, l'utilité d'un robot n'est pas à démontrer. &lt;/p&gt;
&lt;p&gt;Pour éviter ou minimiser qu'un robot/BOT joue à la place de son jeune client (eh joueur), SUPERCELL a donc introduit une période de déconnexion obligatoire d'une vingtaine de minutes toutes les six heures, pour prévenir une possible addiction au jeu et surtout (IMHO) &lt;em&gt;dérégler&lt;/em&gt; d'éventuels BOT. Tentatives vaines selon moi.&lt;/p&gt;
&lt;h2 id="une-solution-simplissime"&gt;Une solution simplissime&lt;/h2&gt;
&lt;p&gt;Ingrédients:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;une tablette/smartphone Android 'rooté' qui sera allumé 24h/24 sur COC.  &lt;/li&gt;
&lt;li&gt;une alimentation secteur pour votre appareil qui devra fonctionner une dizaine d'heures avant de planter ou vider la batterie de l'appareil.&lt;/li&gt;
&lt;li&gt;application &lt;a href="https://play.google.com/store/apps/details?id=com.cygery.repetitouch.free"&gt;RepetiTouch Free&lt;/a&gt; à télécharger sur Google Play.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Recette:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;enregistrer une &lt;em&gt;macro&lt;/em&gt; avec des &lt;em&gt;clics&lt;/em&gt; sur quelques &lt;em&gt;batiments&lt;/em&gt; (ne pas oublier un clic dans la zone où apparait le message de déconnexion périodiques des 6 heures)&lt;/li&gt;
&lt;li&gt;lancer la &lt;em&gt;macro&lt;/em&gt; dans une boucle infinie.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Et voilà! Simple, efficace.&lt;/p&gt;
&lt;p&gt;Pas de &lt;em&gt;rush&lt;/em&gt; à craindre tant que le système android de la tablette est stable et qu'il n'y a pas de coupure réseau wifi, ni de fermeture par SUPERCELL de la plateforme COC pour maintenance.&lt;/p&gt;
&lt;h2 id="une-solution-un-peu-plus-complexe-quoique"&gt;Une solution un peu plus complexe. Quoique&lt;/h2&gt;
&lt;p&gt;Sur une tablette/phablette/smartphone, COC sollicite la carte graphique de manière intensive. Sur de longues périodes d'une dizaine d'heures, la batterie de ma tablette android &lt;a href="http://fr.wikipedia.org/wiki/Nexus_7_%282012%29"&gt;Nexus7 2012&lt;/a&gt; tend à se vider complètement, le BOT maintenant &lt;em&gt;artificiellement&lt;/em&gt; l'écran &lt;em&gt;activé&lt;/em&gt;. L'autonomie est donc très réduite malgré la connexion permanente du chargeur.&lt;/p&gt;
&lt;p&gt;Parfois, l'application &lt;em&gt;RepetiTouch&lt;/em&gt; plante aussi. Loi de Murphy ou darwinienne, l'issue est inévitable. Fatalement, le village va être sauvagement attaqué en votre absence. &lt;/p&gt;
&lt;p&gt;Donc, il a fallu trouver une alternative plus fiable pour pourvoir maintenir un BOT sur une plus longue période.&lt;/p&gt;
&lt;h2 id="actiona3-ou-les-tests-dinterface-gui-au-secours-de-coc"&gt;Actiona3 ou les tests d'interface GUI au secours de COC&lt;/h2&gt;
&lt;p&gt;Anciennement 'Actionaz', Actiona est un logiciel intéressant à plus d'un titre.&lt;/p&gt;
&lt;p&gt;Je reprend l'index du site &lt;a href="https://jmgr.net/"&gt;Actiona&lt;/a&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Actiona est un logiciel d'automatisation de tâches. Il vous permet de simuler des clics, des pressions de touches, lire le contenu d'un fichier, jouer un son, télécharger un fichier ou une page Web, etc.
Le logiciel possède en tout 40 actions différentes et fonctionne aussi bien sur Windows que sur GNU/Linux.
Il vous permet même de développer vos propres comportements en utilisant du Javascript.
C'est un logiciel libre. &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Il est disponible sur les systèmes Windows et Linux. Et là, çà tombe bien. C'est compatible avec mon ordinateur personnel qui tourne sur une distribution linux DEBIAN.&lt;/p&gt;
&lt;p&gt;Un autre avantage du logiciel et pas des moindre, on retrouve le langage Javascript si on veut pallier à certains manques du logiciel. C'est le cas ici où j'ai dû composer avec du code Javascript pour la gestion du temps chronomètrage d'actions.&lt;/p&gt;
&lt;p&gt;Ingrédients:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;un PC sous Linux. Windows devrait également faire l'affaire.&lt;/li&gt;
&lt;li&gt;l'émulateur Android &lt;a href="https://www.genymotion.com/#!/"&gt;Genymotion&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;le logiciel &lt;em&gt;&lt;a href="https://jmgr.net/"&gt;Actiona&lt;/a&gt;&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Recette:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Installer et paramétrer une 'machine virtuelle Android avec &lt;em&gt;Genymotion&lt;/em&gt;. S'inspirer de l'excellent billet de &lt;em&gt;La bande des frappadingues&lt;/em&gt; &lt;a href="http://www.bandofnuts.fr/linux/virtual-android"&gt;http://www.bandofnuts.fr/linux/virtual-android&lt;/a&gt;. Merci à eux.&lt;/li&gt;
&lt;li&gt;Récupérer mon fichier script &lt;a href="/pdfs/clash-of-clans-bot-02.ascr"&gt;clash-of-clans-bot-02.ascr&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Sous &lt;em&gt;Actiona&lt;/em&gt; charger le fichier &lt;em&gt;script&lt;/em&gt; et l'adapter.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="actionaz/actiona" src="/photos/clashofclans/bureau_4_010a.jpg" /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Démarrer le &lt;em&gt;script&lt;/em&gt;  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Conseils:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Maximiser la taille de la fenêtre du système Android virtualisé 'Genymotion'.&lt;/li&gt;
&lt;li&gt;Déplacer la carte COC selon un repère que vous choisirez (bordure d'une icone ou du décor). &lt;em&gt;actiona&lt;/em&gt; s'appuie sur les coordonnées relatives de la souris X,Y dans la fenêtre de l'émulateur Android. La position X,Y d'un objet doit être précise sinon le script cliquera 'dans le vide' ou sur un mauvais élément graphique.&lt;/li&gt;
&lt;li&gt;Corollaire: il faut redéfinir, dans le script, les positions X,Y des extracteurs de ressources (or et elixirs) à chaque modification de la carte (map). Sic. Le robot automatise/sérialise les &lt;em&gt;clics&lt;/em&gt; dans le système fenêtrée de l'interface. Il ne se préoccupe pas &lt;em&gt;réellement&lt;/em&gt; de l'applicatif survolé. La fenêtre de l'émulateur doit être toujours en &lt;em&gt;avant-plan&lt;/em&gt;. Ne comptez pas utiliser votre ordinateur pour faire autre-chose (qui fatalement changera de fenêtre active). Le PC doit être dédié au robot et à COC, à temps plein.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;La compréhension du code ne devrait pas présenter de difficultés.&lt;/p&gt;
&lt;h2 id="autres-axes-de-recherche-pour-coc"&gt;Autres axes de recherche pour COC&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Dans le monde, des personnes/joueurs ont mis au point de multiples système robotisés encore plus complexes pour COC. Ainsi, un robot peut être à même de &lt;em&gt;chercher&lt;/em&gt; une carte à attaquer selon certains critères. Généralement un seuil minimum d'or et/ou d'elixirs. L'astuce consiste à faire une copie de l'écran (screenshot) et d'analyser l'image sauvegardée. Ca existe. Des sources sont disponibles sur la toile.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Utiliser le debuggeur ADB d'Android&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.mameau.com/clash-of-clans-script/"&gt;python/adb&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.youtube.com/watch?v=8vU0TIIegxM"&gt;Automated Clash of Clans Gold Farming ADB, Raspberry Pi &amp;amp; Python&lt;/a&gt; &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Utiliser un 'analyseur de protocoles'. Quelqu'un me souffle à l'oreille &lt;em&gt;wireshark?&lt;/em&gt;. Il s'avère que la société SUPERCELL &lt;em&gt;chiffrerait&lt;/em&gt; les échanges de données client/serveur. Par rétro-conception, on pourrait &lt;em&gt;décoder&lt;/em&gt; les échanges (format xml) et éviter de faire de l'analyse d'images. Le top. Et pourquoi pas modifier certaines données dans les flux. Par hasard, le nombre de ressources: or et elixirs. Hum. Mode &lt;em&gt;triche&lt;/em&gt; activé! Des threads existent dans certains forums. Je vous laisse les chercher.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Utiliser un BOT commercial ou communautaire(?) &lt;a href="http://www.clashbot.org/"&gt;clashBot.org&lt;/a&gt; par exemple. Non testé. Méfiance quand même, le &lt;em&gt;fishing&lt;/em&gt; existe bien dans le monde des jeux &lt;em&gt;multijoueurs&lt;/em&gt;. Des individus/organisations peu scrupuleux cherchent à obtenir vos identifiant/mot-de-passe et votre carte bancaire. Méfiez-vous! Fuyez même! Ne succombez pas à la tentation!&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="conclusion"&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;Début 2015, SUPERCELL, la société éditrice du jeu COC, soucieux de préserver l'intérêt de sa &lt;a href="http://bfmbusiness.bfmtv.com/entreprise/l-explosive-croissance-de-l-editeur-du-jeu-clash-of-clans-871423.html"&gt;poule aux oeufs d'or&lt;/a&gt;: 1,55 milliards d'euros de CA en 2014, modifia la façon de jouer à COC.&lt;/p&gt;
&lt;p&gt;Ainsi, il est maintenant possible d'être &lt;em&gt;attaqué&lt;/em&gt; alors que le joueur/bot est &lt;em&gt;connecté&lt;/em&gt; ou en train de jouer. Ce &lt;em&gt;mode live&lt;/em&gt; introduit une petite révolution dans les BOTS qui perdent beaucoup d'intérêt.&lt;/p&gt;
&lt;p&gt;Malgré çà, avant cette introduction de l'attaque &lt;em&gt;en temps réel&lt;/em&gt; par SUPERCELL, j'ai cessé d'employer le BOT. Les tactiques employées par vos adversaires lors d'attaques de votre carte vous font progresser beaucoup plus vite dans la compréhension du jeu, et montrent, au grand jour, les faiblesses de vos défenses.
On peut alors modifier subtilement la disposition des batiments pour se prémunir de revoir la même attaque se reproduire. Rien de nouveau dans le cycle: action/réaction des simulations guerrières.  &lt;/p&gt;
&lt;p&gt;A lire également, pour parfaire votre connaissance:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://fr.wikipedia.org/wiki/L%27Art_de_la_guerre"&gt;L'Art de la guerre - Sun Tzu&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://fr.wikipedia.org/wiki/Carl_von_Clausewitz"&gt;De la guerre - Clausewitz&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Bon, je m'égare un peu du sujet.&lt;/p&gt;
&lt;p&gt;Jouez bien.&lt;/p&gt;
&lt;hr /&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Eric HAMON</dc:creator><pubDate>Fri, 05 Jun 2015 12:40:00 +0200</pubDate><guid isPermaLink="false">tag:ehamon.github.io,2015-06-05:posts/20150605/clash-of-clans-by-a-novice-bot/</guid><category>coc</category><category>game</category><category>software</category></item><item><title>SAP B1 slow to start</title><link>https://ehamon.github.io/posts/20150528/sap-b1-slow-to-start/</link><description>&lt;p&gt;&lt;img alt="SAP B1" src="/images/20150528/sapb1-logo-01.jpg" /&gt;&lt;/p&gt;
&lt;h2 id="introduction"&gt;Introduction&lt;/h2&gt;
&lt;p&gt;Users of SAP-B1 (v8.82) complained when our IT team switched the SAP server to a datacenter.&lt;/p&gt;
&lt;p&gt;Migrated to a datacenter, and despite huge improvements ( increased number of processors, better frequency, memory, higher IO disks), SAP-B1 began to dissatisfy users.&lt;/p&gt;
&lt;p&gt;Before, SAP-b1 server had a unique LAN-network card. The server didn't met any/specific trouble. Fast, responsive, accurate, the server did the job.&lt;/p&gt;
&lt;p&gt;When users tried to login to SAP Business One, they found a long delay during start-up. All of them were affected. 3 minutes to get the login form, and 3 more minutes to get the main SAP-B1 window. (add a couple of minutes to start addons)&lt;/p&gt;
&lt;p&gt;First, we thought that some kind of network slow down the process of SAP-B1 to locate the licensing server.&lt;/p&gt;
&lt;p&gt;Despite searchs and googling, none of tips or recips pull through.
Most of discuss try to resolve the same issues on the server side. 'disconnect/disable network cards and enable them after reboot, and so on...&lt;/p&gt;
&lt;p&gt;In our situation, we haven't full admin access to the server. We are not allowed to reboot at will the production server, and we are forbidden to play with hardware tests.&lt;/p&gt;
&lt;p&gt;Then I think that if everybody suffer the same pity behavior on SAP-B1 installations then nobody try to find a solution on the other side, on the computer of the final user. (Windows7 mainly)&lt;/p&gt;
&lt;p&gt;I search and find a clean turn-around on slow starts of B1. It seems stupid but it rules wery well to our issues. Hope that yours too.&lt;/p&gt;
&lt;h2 id="some-steps-to-solve-slow-starts-of-b1"&gt;Some steps to solve slow starts of B1&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;On the server side, enumerate and write down on a paper the list of network IP address. &lt;code&gt;all of them&lt;/code&gt;. &lt;/li&gt;
&lt;li&gt;On the client side, open a command with administratives right.&lt;/li&gt;
&lt;li&gt;ping each IP address of your list. Note those which fail!&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;adapt this next command to your configuration, where the field 'remoteip' contains IP which previously failed.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;netsh advfirewall firewall add rule name="SAP Connexion" dir=out remoteip=10.xx.xxx.xx,10.yyy.yy.yy action=block&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;close the 'command windows' by &lt;code&gt;exit&lt;/code&gt;. The state of the last command is permanent.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;start your chronograph when double-click your SAP-b1, you will be surprised by the elapsed time!&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="explanations"&gt;Explanations.&lt;/h2&gt;
&lt;p&gt;In this case, the server has three network cards.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;10.xx.xxx.xx ==&amp;gt; network for backup
10.yy.yyy.yy ==&amp;gt; network for administravive tasks
10.zz.zzz.zz ==&amp;gt; users network
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Third IP is valid ('pingable') outside the datacenter. 'ping' on the others fails!&lt;/p&gt;
&lt;p&gt;This a scenario when SAP client software start, on a computer outside the datacenter.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;start of the software client&lt;/li&gt;
&lt;li&gt;method call to the server 'give me the list of your network cards!"&lt;/li&gt;
&lt;li&gt;for each card in list do&lt;ul&gt;
&lt;li&gt;stuff with this card (time allowed 3 minutes max)&lt;/li&gt;
&lt;li&gt;exit loop and go further if return_code is OK&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;endfor&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Two of the three calls never respond. Timeout exception raise at each time. Then, the final user has to wait for a long time.
You are lucky is the 'user network' is the first of the list. The process start quickly in this case. Anyway, you have no control to alter the list. That's why, sometimes, the start of B1 seem very fast and sometimes, very slowly. (After a monthly reboot of the server in our company. It's a random jackpot)&lt;/p&gt;
&lt;p&gt;Now, with a firewall rule which block IPs, the response is always immediate. OK or KO. Users lose few milliseconds, but not precious minutes.&lt;/p&gt;
&lt;p&gt;SAP B1 start in less than 20 seconds. Users are happy. The boss too.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Time is money. ;-)&lt;/p&gt;
&lt;/blockquote&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Eric HAMON</dc:creator><pubDate>Thu, 28 May 2015 12:40:00 +0200</pubDate><guid isPermaLink="false">tag:ehamon.github.io,2015-05-28:posts/20150528/sap-b1-slow-to-start/</guid><category>sap</category></item></channel></rss>